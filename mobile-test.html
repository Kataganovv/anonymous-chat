<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–¢–µ—Å—Ç –º–æ–±–∏–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π - –ê–Ω–æ–Ω–∏–º–Ω—ã–π —á–∞—Ç</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .test-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            font-family: 'Inter', sans-serif;
        }
        
        .test-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .test-section h3 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .status {
            padding: 8px 12px;
            border-radius: 6px;
            margin: 5px 10px 5px 0;
            display: inline-block;
            font-weight: 500;
        }
        
        .status.success {
            background: #dcfce7;
            color: #166534;
        }
        
        .status.warning {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status.error {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .test-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            margin: 5px;
            cursor: pointer;
            min-height: 44px;
            font-size: 14px;
        }
        
        .test-button:active {
            transform: scale(0.95);
        }
        
        .device-info {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ –¢–µ—Å—Ç –º–æ–±–∏–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π</h1>
        
        <div class="test-section">
            <h3>üì± –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h3>
            <div id="deviceDetection">
                <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º...</p>
            </div>
        </div>
        
        <div class="test-section">
            <h3>üîß –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</h3>
            <div id="featureSupport">
                <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É...</p>
            </div>
        </div>
        
        <div class="test-section">
            <h3>üìè –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —ç–∫—Ä–∞–Ω–µ</h3>
            <div id="screenInfo">
                <p>–ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ...</p>
            </div>
        </div>
        
        <div class="test-section">
            <h3>üéØ –¢–µ—Å—Ç touch-—Å–æ–±—ã—Ç–∏–π</h3>
            <button class="test-button" id="testTouch">–¢–µ—Å—Ç –∫–∞—Å–∞–Ω–∏—è</button>
            <button class="test-button" id="testLongPress">–¢–µ—Å—Ç –¥–æ–ª–≥–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è</button>
            <div id="touchResults"></div>
        </div>
        
        <div class="test-section">
            <h3>üì¶ PWA —Ñ—É–Ω–∫—Ü–∏–∏</h3>
            <button class="test-button" id="testPWA">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å PWA</button>
            <button class="test-button" id="testServiceWorker">Service Worker</button>
            <div id="pwaResults"></div>
        </div>
        
        <div class="test-section">
            <h3>üìã –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <div class="device-info" id="systemInfo"></div>
        </div>
        
        <div class="test-section">
            <h3>üöÄ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —á–∞—Ç—É</h3>
            <a href="index.html" class="test-button" style="text-decoration: none; display: inline-block;">
                –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç
            </a>
        </div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
        function checkDevice() {
            const deviceInfo = document.getElementById('deviceDetection');
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const isTouch = 'ontouchstart' in window;
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
            const isAndroid = /Android/.test(navigator.userAgent);
            
            let html = '';
            html += `<div class="status ${isMobile ? 'success' : 'warning'}">–ú–æ–±–∏–ª—å–Ω–æ–µ: ${isMobile ? '–î–∞' : '–ù–µ—Ç'}</div>`;
            html += `<div class="status ${isTouch ? 'success' : 'warning'}">Touch: ${isTouch ? '–î–∞' : '–ù–µ—Ç'}</div>`;
            html += `<div class="status ${isIOS ? 'success' : 'warning'}">iOS: ${isIOS ? '–î–∞' : '–ù–µ—Ç'}</div>`;
            html += `<div class="status ${isAndroid ? 'success' : 'warning'}">Android: ${isAndroid ? '–î–∞' : '–ù–µ—Ç'}</div>`;
            
            deviceInfo.innerHTML = html;
        }
        
        function checkFeatures() {
            const featureInfo = document.getElementById('featureSupport');
            
            const features = [
                { name: 'Service Worker', check: 'serviceWorker' in navigator },
                { name: 'Push API', check: 'PushManager' in window },
                { name: 'Notification API', check: 'Notification' in window },
                { name: 'Geolocation', check: 'geolocation' in navigator },
                { name: 'Web Share API', check: 'share' in navigator },
                { name: 'Visual Viewport', check: 'visualViewport' in window },
                { name: 'Device Orientation', check: 'DeviceOrientationEvent' in window },
                { name: 'Vibrate API', check: 'vibrate' in navigator }
            ];
            
            let html = '';
            features.forEach(feature => {
                html += `<div class="status ${feature.check ? 'success' : 'error'}">${feature.name}: ${feature.check ? '–î–∞' : '–ù–µ—Ç'}</div>`;
            });
            
            featureInfo.innerHTML = html;
        }
        
        function checkScreen() {
            const screenInfo = document.getElementById('screenInfo');
            
            const info = {
                '–†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞': `${screen.width}x${screen.height}`,
                '–†–∞–∑–º–µ—Ä –æ–∫–Ω–∞': `${window.innerWidth}x${window.innerHeight}`,
                'Device Pixel Ratio': window.devicePixelRatio,
                '–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è': screen.orientation ? screen.orientation.type : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                'Color Depth': screen.colorDepth,
                'Pixel Depth': screen.pixelDepth
            };
            
            let html = '<div class="device-info">';
            Object.entries(info).forEach(([key, value]) => {
                html += `<div><strong>${key}:</strong> ${value}</div>`;
            });
            html += '</div>';
            
            screenInfo.innerHTML = html;
        }
        
        function setupTouchTests() {
            const touchBtn = document.getElementById('testTouch');
            const longPressBtn = document.getElementById('testLongPress');
            const results = document.getElementById('touchResults');
            
            touchBtn.addEventListener('touchstart', () => {
                results.innerHTML = '<div class="status success">Touch Start —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úì</div>';
            });
            
            touchBtn.addEventListener('click', () => {
                if (!results.innerHTML.includes('Touch Start')) {
                    results.innerHTML = '<div class="status warning">–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ Click —Å–æ–±—ã—Ç–∏–µ</div>';
                }
            });
            
            let longPressTimer;
            longPressBtn.addEventListener('touchstart', (e) => {
                longPressTimer = setTimeout(() => {
                    results.innerHTML += '<div class="status success">–î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úì</div>';
                    if (navigator.vibrate) {
                        navigator.vibrate(100);
                    }
                }, 500);
            });
            
            longPressBtn.addEventListener('touchend', () => {
                clearTimeout(longPressTimer);
            });
        }
        
        function setupPWATests() {
            const pwaBtn = document.getElementById('testPWA');
            const swBtn = document.getElementById('testServiceWorker');
            const results = document.getElementById('pwaResults');
            
            pwaBtn.addEventListener('click', async () => {
                let html = '';
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ manifest
                const manifestLink = document.querySelector('link[rel="manifest"]');
                html += `<div class="status ${manifestLink ? 'success' : 'error'}">Manifest: ${manifestLink ? '–ù–∞–π–¥–µ–Ω' : '–ù–µ –Ω–∞–π–¥–µ–Ω'}</div>`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS
                html += `<div class="status ${location.protocol === 'https:' ? 'success' : 'warning'}">HTTPS: ${location.protocol === 'https:' ? '–î–∞' : '–ù–µ—Ç'}</div>`;
                
                results.innerHTML = html;
            });
            
            swBtn.addEventListener('click', async () => {
                if ('serviceWorker' in navigator) {
                    try {
                        const registration = await navigator.serviceWorker.getRegistration();
                        results.innerHTML += `<div class="status ${registration ? 'success' : 'warning'}">Service Worker: ${registration ? '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω' : '–ù–µ –Ω–∞–π–¥–µ–Ω'}</div>`;
                    } catch (error) {
                        results.innerHTML += '<div class="status error">Service Worker: –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏</div>';
                    }
                } else {
                    results.innerHTML += '<div class="status error">Service Worker: –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è</div>';
                }
            });
        }
        
        function showSystemInfo() {
            const systemInfo = document.getElementById('systemInfo');
            
            const info = {
                'User Agent': navigator.userAgent,
                'Platform': navigator.platform,
                'Language': navigator.language,
                'Languages': navigator.languages ? navigator.languages.join(', ') : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                'Online': navigator.onLine,
                'Connection': navigator.connection ? 
                    `${navigator.connection.effectiveType} (${navigator.connection.downlink}Mbps)` : 
                    '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                'Memory': navigator.deviceMemory ? `${navigator.deviceMemory}GB` : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
                'Hardware Concurrency': navigator.hardwareConcurrency || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
            };
            
            let html = '';
            Object.entries(info).forEach(([key, value]) => {
                html += `<div><strong>${key}:</strong> ${value}</div>`;
            });
            
            systemInfo.innerHTML = html;
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            checkDevice();
            checkFeatures();
            checkScreen();
            setupTouchTests();
            setupPWATests();
            showSystemInfo();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
            window.addEventListener('orientationchange', () => {
                setTimeout(checkScreen, 500);
            });
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
            window.addEventListener('resize', checkScreen);
        });
    </script>
</body>
</html>