#!/bin/bash

# –ü–æ–ª—É—á–∞–µ–º IP-–∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
IP_ADDRESS=$(ifconfig | grep "inet " | grep -v 127.0.0.1 | awk '{print $2}' | head -1)
PORT=8000

echo "üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ —á–∞—Ç–∞..."
echo ""
echo "üì± –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:"
echo "   http://$IP_ADDRESS:$PORT/"
echo ""
echo "üíª –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:"
echo "   http://localhost:$PORT/"
echo ""
echo "üîó –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å QR-–∫–æ–¥–æ–º:"
echo "   http://$IP_ADDRESS:$PORT/connect.html"
echo ""
echo "‚ö†Ô∏è  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –æ–¥–Ω–æ–π Wi-Fi —Å–µ—Ç–∏"
echo ""

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
cd "$(dirname "$0")"
python3 -m http.server $PORT --bind 0.0.0.0